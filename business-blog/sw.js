const staticCacheName="site-static-v1",dynamicCacheName="site-dynamic-v1",staticAssets=["/","/index.html","https://fonts.googleapis.com/css?family=Poppins","https://use.fontawesome.com/releases/v5.1.1/css/all.css","css/style.css","img/blog/2.jpg","img/blog/3.jpg","img/blog/4.jpg","img/blog/5.jpg","img/blog/6.jpg","single-post.html","js/all.js"],limitCacheSize=(e,t)=>{caches.open(e).then(s=>{s.keys().then(a=>{a.length>t&&s.delete(a[0]).then(limitCacheSize(e,t))})})};self.addEventListener("install",e=>{e.waitUntil(caches.open(staticCacheName).then(e=>{e.addAll(staticAssets)}))}),self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(e=>Promise.all(e.filter(e=>e!==staticCacheName&&e!==dynamicCacheName).map(e=>caches.delete(e)))))}),self.addEventListener("fetch",e=>{e.respondWith(caches.match(e.request).then(t=>t||fetch(e.request).then(t=>caches.open(dynamicCacheName).then(s=>(s.put(e.request.url,t.clone()),limitCacheSize(dynamicCacheName,10),t)))).catch(()=>{if(e.request.url.indexOf(".html")>-1)return caches.match("./pages/fallback.html")}))});